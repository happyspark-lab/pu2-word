<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Power Up 2 ÂçïÂÖÉËØçÊ±áÂê¨ÂÜô</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 800px;
            width: 100%;
        }

        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 20px;
            font-size: 2.2em;
        }

        .day-selector {
            text-align: center;
            margin-bottom: 20px;
        }

        select {
            padding: 10px 20px;
            font-size: 1.1em;
            border-radius: 10px;
            border: 2px solid #667eea;
            color: #2d3748;
            outline: none;
            cursor: pointer;
            background: white;
            font-weight: bold;
            max-width: 100%;
        }

        .settings-row {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-bottom: 25px;
            flex-wrap: wrap;
            background: #f7fafc;
            padding: 15px;
            border-radius: 12px;
            border: 1px dashed #cbd5e0;
        }

        .setting-group {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .setting-group label {
            color: #4a5568;
            font-weight: 600;
        }

        .setting-group select {
            padding: 8px 12px;
            font-size: 1rem;
            border: 1px solid #667eea;
        }

        .status {
            background: #f7fafc;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
        }

        .status-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 5px 10px;
        }

        .label {
            color: #718096;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .value {
            color: #2d3748;
            font-weight: bold;
            font-size: 1.2em;
        }

        .progress {
            background: #e2e8f0;
            border-radius: 10px;
            height: 30px;
            margin-bottom: 30px;
            overflow: hidden;
            position: relative;
        }

        .progress-bar {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .current-word {
            text-align: center;
            font-size: 2.2em;
            font-weight: bold;
            color: #2d3748;
            margin: 40px 0;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        .starting {
            text-align: center;
            font-size: 1.5em;
            color: #667eea;
            margin: 40px 0;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .controls {
            text-align: center;
            margin-top: 30px;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2em;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s;
            margin: 5px;
            box-shadow: 0 4px 6px rgba(50, 50, 93, 0.11), 0 1px 3px rgba(0, 0, 0, 0.08);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 14px rgba(50, 50, 93, 0.1), 0 3px 6px rgba(0, 0, 0, 0.08);
        }

        button:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .preview {
            margin-top: 30px;
        }

        .preview-list {
            background: #f7fafc;
            border-radius: 10px;
            padding: 20px;
            border: 1px dashed #cbd5e0;
        }

        .answers {
            display: none;
            margin-top: 30px;
        }

        .answers h2 {
            color: #667eea;
            margin-bottom: 20px;
            text-align: center;
        }

        .answer-list {
            background: #f7fafc;
            border-radius: 10px;
            padding: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .answer-item {
            padding: 12px;
            margin-bottom: 8px;
            background: white;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }

        .answer-left {
            display: flex;
            align-items: center;
            flex: 1;
        }

        .answer-number {
            color: #667eea;
            font-weight: bold;
            margin-right: 15px;
            min-width: 30px;
        }

        .answer-text {
            color: #2d3748;
            font-size: 1.2em;
            font-weight: 500;
        }

        .answer-meaning {
            color: #718096;
            font-size: 1em;
            text-align: right;
            margin-left: 10px;
            flex: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéß Power Up 2 ÂçïÂÖÉËØçÊ±áÂê¨ÂÜô</h1>

        <div class="day-selector">
            <select id="daySelect" onchange="loadDay()"></select>
        </div>

        <div class="settings-row">
            <div class="setting-group">
                <label>ÊØèËØçÊúóËØª:</label>
                <select id="repeatCount">
                    <option value="1">1Ê¨°</option>
                    <option value="2">2Ê¨°</option>
                    <option value="3" selected>3Ê¨°</option>
                </select>
            </div>
            <div class="setting-group">
                <label>ÂÜôÂ≠óÊó∂Èïø:</label>
                <select id="waitTime">
                    <option value="5">5Áßí</option>
                    <option value="8">8Áßí</option>
                    <option value="10" selected>10Áßí</option>
                    <option value="12">12Áßí</option>
                    <option value="15">15Áßí</option>
                </select>
            </div>
        </div>

        <div class="status">
            <div class="status-item">
                <span class="label">Êú¨ÁªÑËØçÊï∞</span>
                <span class="value" id="totalCount">0</span>
            </div>
            <div class="status-item">
                <span class="label">ÂΩìÂâçËøõÂ∫¶</span>
                <span class="value" id="currentProgress">0 / 0</span>
            </div>
        </div>

        <div class="progress">
            <div class="progress-bar" id="progressBar">0%</div>
        </div>

        <div class="current-word" id="currentWord" style="display: none;"></div>
        <div class="starting" id="starting">ÂáÜÂ§áÂºÄÂßã...</div>

        <div class="controls">
            <button id="startBtn" onclick="startDictation()">ÂºÄÂßãÂê¨ÂÜô</button>
            <button id="pauseBtn" onclick="pauseDictation()" style="display: none;" disabled>ÊöÇÂÅú</button>
            <button id="resumeBtn" onclick="resumeDictation()" style="display: none;">ÁªßÁª≠</button>
            <button id="restartBtn" onclick="resetDictation()" style="display: none; background: #e53e3e;">ÈáçÁΩÆ</button>
        </div>

        <div class="preview" id="previewArea">
            <div class="preview-list" id="previewList"></div>
        </div>

        <div class="answers" id="answers">
            <h2>üìù Âê¨ÂÜôÁ≠îÊ°à</h2>
            <div class="answer-list" id="answerList"></div>
        </div>
    </div>

    <script>
        // ËØçÊ±áÊï∞ÊçÆ (Âü∫‰∫é PU2ÊåáÂºïÂçï.pdf Êï¥ÁêÜ)
        const wordData = {
            "Unit 1 Vocabulary 1 (Countryside)": [
                { "text": "countryside", "meaning": "‰π°Êùë" },
                { "text": "mountain", "meaning": "Â±±" },
                { "text": "lake", "meaning": "Êπñ" },
                { "text": "river", "meaning": "Ê≤≥" },
                { "text": "forest", "meaning": "Ê£ÆÊûó" },
                { "text": "ground", "meaning": "Âú∞" },
                { "text": "grass", "meaning": "Ëçâ" },
                { "text": "leaf (leaves)", "meaning": "Ê†ëÂè∂ (Â§çÊï∞)" },
                { "text": "field", "meaning": "Áî∞Âú∞" },
                { "text": "tractor", "meaning": "ÊãñÊãâÊú∫" },
                { "text": "rock", "meaning": "Â≤©Áü≥, Â§ßÁü≥Â§¥" },
                { "text": "outside", "meaning": "Âú®Â§ñÈù¢" }
            ],
            "Unit 1 Vocabulary 2 (Daily routines)": [
                { "text": "get dressed", "meaning": "Á©øË°£Êúç" },
                { "text": "wake up", "meaning": "ÈÜíÈÜí" },
                { "text": "get up", "meaning": "Ëµ∑Â∫ä" },
                { "text": "squeeze toothpaste on the toothbrush", "meaning": "ÊääÁâôËÜèÊå§Âà∞ÁâôÂà∑‰∏ä" },
                { "text": "clean my teeth", "meaning": "Ê∏ÖÊ¥óÊàëÁöÑÁâôÈΩø" },
                { "text": "have a shower", "meaning": "Ê¥ó‰∏™Êæ°" },
                { "text": "get my towel", "meaning": "Êãø‰∏äÊàëÁöÑÊØõÂ∑æ" },
                { "text": "get dry", "meaning": "Êì¶Âπ≤/ÂºÑÂπ≤" },
                { "text": "sit down for breakfast", "meaning": "Âùê‰∏ãÊù•ÂêÉÊó©È•≠" },
                { "text": "daily routines", "meaning": "Êó•Â∏∏ÁîüÊ¥ª" },
                { "text": "do my homework", "meaning": "ÂÅöÊàëÁöÑÂõûÂÆ∂‰Ωú‰∏ö" },
                { "text": "go to bed", "meaning": "ÂéªÁù°Ëßâ" },
                { "text": "have breakfast/lunch/dinner", "meaning": "ÂêÉÊó©/‰∏≠/ÊôöÈ§ê" },
                { "text": "What time", "meaning": "Âá†ÁÇπ?" }
            ],
            "Unit 2 Vocabulary 1 (Days of week)": [
                { "text": "Sunday", "meaning": "Âë®Êó•" },
                { "text": "Monday", "meaning": "Âë®‰∏Ä" },
                { "text": "Tuesday", "meaning": "Âë®‰∫å" },
                { "text": "Wednesday", "meaning": "Âë®‰∏â" },
                { "text": "Thursday", "meaning": "Âë®Âõõ" },
                { "text": "Friday", "meaning": "Âë®‰∫î" },
                { "text": "Saturday", "meaning": "Âë®ÂÖ≠" },
                { "text": "favourite", "meaning": "ÊúÄÂñúÊ¨¢ÁöÑ" },
                { "text": "towel", "meaning": "Êµ¥Â∑æ" },
                { "text": "weekend", "meaning": "Âë®Êú´" },
                { "text": "feed", "meaning": "ÂñÇÂÖª" },
                { "text": "a week", "meaning": "‰∏ÄÂë®" },
                { "text": "come before", "meaning": "Âú®...‰πãÂâçÊù•‰∏¥" },
                { "text": "come after", "meaning": "Âú®...‰πãÂêéÊù•‰∏¥" },
                { "text": "a day", "meaning": "‰∏ÄÂ§©" },
                { "text": "swimsuit", "meaning": "Ê≥≥Ë°£" },
                { "text": "Maths", "meaning": "Êï∞Â≠¶" }
            ],
            "Unit 2 Vocabulary 2 (Free time activities)": [
                { "text": "listen to music", "meaning": "Âê¨Èü≥‰πê" },
                { "text": "write an email", "meaning": "ÂÜô‰∏ÄÂ∞ÅÁîµÂ≠êÈÇÆ‰ª∂" },
                { "text": "go skating", "meaning": "ÂéªÊ∫úÂÜ∞" },
                { "text": "read a comic", "meaning": "ÁúãÊº´Áîª" },
                { "text": "go shopping", "meaning": "ÂéªË¥≠Áâ©" },
                { "text": "watch films", "meaning": "ÁúãÁîµÂΩ±" },
                { "text": "Do you ever...?", "meaning": "‰Ω†ÊúâÊ≤°Êúâ..Ëøá?" },
                { "text": "how often", "meaning": "Â§ö‰πÖ‰∏ÄÊ¨°" },
                { "text": "watch a DVD", "meaning": "ÁúãDVD" },
                { "text": "listen to a CD", "meaning": "Âê¨CD" }
            ],
            "Unit 3 Vocabulary 1 (Jobs and parties)": [
                { "text": "surprise", "meaning": "ÊÉäÂñúÁöÑ" },
                { "text": "costume", "meaning": "ÊúçË£Ö" },
                { "text": "party", "meaning": "Ê¥æÂØπ" },
                { "text": "clown", "meaning": "Â∞è‰∏ë" },
                { "text": "film star", "meaning": "ÁîµÂΩ±ÊòéÊòü" },
                { "text": "pop star", "meaning": "Ê≠åÊòü" },
                { "text": "treasure", "meaning": "ÈáëÈì∂Ë¥¢ÂÆù" },
                { "text": "pirate", "meaning": "Êµ∑Áõó" },
                { "text": "cook", "meaning": "Âé®Â∏à" },
                { "text": "nurse", "meaning": "Êä§Â£´" },
                { "text": "dentist", "meaning": "ÁâôÁßëÂåªÁîü" },
                { "text": "present", "meaning": "Á§ºÁâ©" },
                { "text": "doctor", "meaning": "ÂåªÁîü" },
                { "text": "farmer", "meaning": "ÂÜúÊ∞ë" }
            ],
            "Unit 3 Vocabulary 2 (Physical descriptions)": [
                { "text": "thin", "meaning": "Áò¶ÁöÑ, ÁªÜÁöÑ" },
                { "text": "tall", "meaning": "È´òÁöÑ" },
                { "text": "straight", "meaning": "Áõ¥ÁöÑ" },
                { "text": "blonde", "meaning": "ÈáëÈªÑËâ≤ÁöÑ" },
                { "text": "scarecrow", "meaning": "Á®ªËçâ‰∫∫" },
                { "text": "short", "meaning": "Áü≠ÁöÑ" },
                { "text": "fat", "meaning": "ËÉñÁöÑ" },
                { "text": "beard", "meaning": "ËÉ°È°ª" },
                { "text": "moustache", "meaning": "Â∞èËÉ°Â≠ê" },
                { "text": "ugly", "meaning": "‰∏ëÁöÑ" },
                { "text": "a purple nose", "meaning": "‰∏Ä‰∏™Á¥´Ëâ≤ÁöÑÈºªÂ≠ê" },
                { "text": "fair", "meaning": "ÁôΩÁöôÁöÑ/ÈáëÈªÑËâ≤ÁöÑ" },
                { "text": "curly", "meaning": "Âç∑Êõ≤ÁöÑ" },
                { "text": "dirty clothes", "meaning": "ËÑèË°£Êúç" }
            ],
            "Unit 4 Vocabulary 1 (Extended family)": [
                { "text": "a family photo", "meaning": "‰∏ÄÂº†ÂÖ®ÂÆ∂Á¶è" },
                { "text": "grown-ups", "meaning": "ÊàêÂπ¥‰∫∫" },
                { "text": "behind", "meaning": "Âú®ÂêéÈù¢" },
                { "text": "parents", "meaning": "Âèå‰∫≤" },
                { "text": "daughter", "meaning": "Â•≥ÂÑø" },
                { "text": "uncle", "meaning": "ÂèîÂèî" },
                { "text": "son", "meaning": "ÂÑøÂ≠ê" },
                { "text": "cousin", "meaning": "Ë°®Âºü/Âì•/Âßê/Â¶π" },
                { "text": "aunt", "meaning": "ÈòøÂß®" },
                { "text": "grandparents", "meaning": "Á•ñÁà∂ÊØç" },
                { "text": "granddaughter", "meaning": "Â≠ôÂ•≥" },
                { "text": "grandson", "meaning": "Â≠ôÂ≠ê" }
            ],
            "Unit 4 Vocabulary 2 (In and around the home)": [
                { "text": "in the town centre", "meaning": "Âú®Â∞èÈïá‰∏≠ÂøÉ" },
                { "text": "on the third floor", "meaning": "Âú®‰∏âÊ•º" },
                { "text": "plant on his balcony", "meaning": "Âú®Èò≥Âè∞‰∏äÁßçÊ§çÊ§çÁâ©" },
                { "text": "on the roof", "meaning": "Âú®ÊàøÈ°∂‰∏ä" },
                { "text": "in the basement", "meaning": "Âú®Âú∞‰∏ãÂÆ§" },
                { "text": "go up and down", "meaning": "‰∏äÂçáÂíå‰∏ãÈôç" },
                { "text": "in the centre of town", "meaning": "Âú®Â∞èÈïá‰∏≠ÂøÉ" },
                { "text": "in the small village", "meaning": "Âú®ÈÇ£‰∏™Â∞èÊùëÂ∫ÑÈáå" },
                { "text": "a village outside town", "meaning": "Â∞èÈïáÂ§ñÁöÑ‰∏Ä‰∏™ÊùëÂ∫Ñ" },
                { "text": "inside our house", "meaning": "Âú®Êàë‰ª¨ÁöÑÊàøÂ≠êÈáå" },
                { "text": "upstairs", "meaning": "Âú®Ê•º‰∏ä" },
                { "text": "downstairs", "meaning": "Âú®Ê•º‰∏ã" }
            ],
            "Unit 5 Vocabulary 1 (Wild and domestic animals)": [
                { "text": "in a wildlife park", "meaning": "Âú®‰∏Ä‰∏™ÈáéÁîüÂä®Áâ©Âõ≠" },
                { "text": "bear", "meaning": "ÁÜä" },
                { "text": "bat", "meaning": "ÁêÉÊ£í/ËùôËù†" },
                { "text": "parrot", "meaning": "Èπ¶Èπâ" },
                { "text": "rabbit", "meaning": "ÂÖîÂ≠ê" },
                { "text": "kangaroo", "meaning": "Ë¢ãÈº†" },
                { "text": "panda", "meaning": "ÁÜäÁå´" },
                { "text": "lion", "meaning": "ÁãÆÂ≠ê" },
                { "text": "in the afternoon", "meaning": "Âú®‰∏ãÂçà" },
                { "text": "cage", "meaning": "Á¨ºÂ≠ê" },
                { "text": "whale", "meaning": "È≤∏" },
                { "text": "dolphin", "meaning": "Êµ∑Ë±ö" },
                { "text": "penguin", "meaning": "‰ºÅÈπÖ" }
            ],
            "Unit 5 Vocabulary 2 (Action verbs)": [
                { "text": "our masks", "meaning": "Êàë‰ª¨ÁöÑÈù¢ÂÖ∑" },
                { "text": "move like wild animals", "meaning": "ÂÉèÈáéÁîüÂä®Áâ©‰∏ÄÊ†∑ÁßªÂä®" },
                { "text": "run like a lion", "meaning": "ÂÉè‰∏ÄÂè™ÁãÆÂ≠ê‰∏ÄÊ†∑Â•îË∑ë" },
                { "text": "climb like a kangaroo", "meaning": "ÂÉèË¢ãÈº†‰∏ÄÊ†∑ÊîÄÁôª" },
                { "text": "hide", "meaning": "Ë∫≤Ëóè" },
                { "text": "like to fly", "meaning": "ÂñúÊ¨¢È£û" },
                { "text": "lose banana", "meaning": "Â§±ÂéªÈ¶ôËïâ" },
                { "text": "fall in the sky", "meaning": "Âú®Â§©Á©∫‰∏≠Âù†ËêΩ" },
                { "text": "jump like a rabbit", "meaning": "ÂÉèÂÖîÂ≠ê‰∏ÄÊ†∑Ë∑≥Ë∑É" },
                { "text": "fly like a bat", "meaning": "ÂÉèËùôËù†‰∏ÄÊ†∑È£ûË°å" },
                { "text": "is/am/are slow", "meaning": "ÊÖ¢ÁöÑ" },
                { "text": "move like a snail", "meaning": "ÂÉèËúóÁâõ‰∏ÄÊ†∑Áà¨Ë°å" },
                { "text": "walk like a penguin", "meaning": "ÂÉè‰ºÅÈπÖ‰∏ÄÊ†∑Ë°åËµ∞" }
            ],
            "Unit 6 Vocabulary 1 (The weather)": [
                { "text": "make a video call", "meaning": "ËßÜÈ¢ëÈÄöËØù" },
                { "text": "wind", "meaning": "È£é" },
                { "text": "windy", "meaning": "ÊúâÈ£éÁöÑ" },
                { "text": "cloud", "meaning": "‰∫ë" },
                { "text": "cloudy", "meaning": "Â§ö‰∫ëÁöÑ" },
                { "text": "rainbow", "meaning": "ÂΩ©Ëôπ" },
                { "text": "hot", "meaning": "ÁÉ≠ÁöÑ" },
                { "text": "rain", "meaning": "Èõ®" },
                { "text": "rainy", "meaning": "‰∏ãÈõ®ÁöÑ/Â§öÈõ®ÁöÑ" },
                { "text": "cold", "meaning": "ÂÜ∑ÁöÑ" },
                { "text": "sun", "meaning": "Â§™Èò≥" },
                { "text": "sunny", "meaning": "Êô¥ÊúóÁöÑ" },
                { "text": "snow", "meaning": "Èõ™" },
                { "text": "snowy", "meaning": "‰∏ãÈõ™ÁöÑ/Â§öÈõ™ÁöÑ" }
            ],
            "Unit 6 Vocabulary 2 (Clothes)": [
                { "text": "put on your T-shirt", "meaning": "Á©ø‰∏ä‰Ω†ÁöÑTÊÅ§" },
                { "text": "go out to play", "meaning": "Âá∫ÂéªÁé©" },
                { "text": "sweater", "meaning": "ÊØõË°£" },
                { "text": "scarf", "meaning": "Âõ¥Â∑æ" },
                { "text": "coat", "meaning": "Â§ñÂ•ó" },
                { "text": "boots", "meaning": "ÈïøÁ≠íÈù¥" },
                { "text": "come inside", "meaning": "Âà∞ÈáåÈù¢" },
                { "text": "near the fire", "meaning": "Âú®ÁÅ´ÊóÅ" },
                { "text": "take off your coat", "meaning": "ËÑ±‰∏ã‰Ω†ÁöÑÂ§ñÂ•ó" },
                { "text": "sit on that chair", "meaning": "ÂùêÂú®Ê§ÖÂ≠ê‰∏ä" }
            ],
            "Unit 7 Vocabulary 1 (Food)": [
                { "text": "a cooking class", "meaning": "‰∏ÄËäÇÁÉπÈ•™ËØæ" },
                { "text": "cup", "meaning": "ÊùØÂÖ∑" },
                { "text": "soup", "meaning": "Ê±§" },
                { "text": "plate", "meaning": "ÁõòÂ≠ê" },
                { "text": "pasta", "meaning": "ÊÑèÂ§ßÂà©Èù¢" },
                { "text": "bottle", "meaning": "Áì∂Â≠ê" },
                { "text": "bring the food home", "meaning": "ÊääÈ£üÁâ©Â∏¶ÂõûÂÆ∂" },
                { "text": "ate it all", "meaning": "ÂêÉÊéâÊâÄÊúâ" },
                { "text": "drank hot chocolate", "meaning": "ÂñùÁÉ≠Â∑ßÂÖãÂäõ" },
                { "text": "saw them", "meaning": "Áúã‰ªñ‰ª¨" },
                { "text": "made a pasta salad", "meaning": "ÂÅö‰∏Ä‰∏™ÊÑèÂ§ßÂà©Èù¢Ê≤ôÊãâ" },
                { "text": "only got vegetables", "meaning": "Âè™ÊúâËî¨Ëèú" },
                { "text": "glass", "meaning": "ÁéªÁíÉÊùØ" },
                { "text": "salad", "meaning": "Ê≤ôÊãâ" },
                { "text": "bowl", "meaning": "Á¢ó" },
                { "text": "cheese", "meaning": "ËäùÂ£´" },
                { "text": "sandwich", "meaning": "‰∏âÊòéÊ≤ª" },
                { "text": "vegetable", "meaning": "Ëî¨Ëèú" }
            ],
            "Unit 7 Vocabulary 2 (Actions in the kitchen)": [
                { "text": "cook the dinner", "meaning": "ÂÅöÊôöÈ•≠" },
                { "text": "wear hats", "meaning": "Êà¥Â∏ΩÂ≠ê" },
                { "text": "wash the glasses", "meaning": "Ê¥óÁéªÁíÉÊùØ" },
                { "text": "carry the plates", "meaning": "ÊãøÁõòÂ≠ê" },
                { "text": "drop the bowl", "meaning": "Êîæ‰∏ãÁ¢ó" },
                { "text": "mustn't be late", "meaning": "Á¶ÅÊ≠¢ËøüÂà∞" },
                { "text": "boil the pasta", "meaning": "ÁÖÆÊÑèÂ§ßÂà©Èù¢" },
                { "text": "fry the fish", "meaning": "Áî®Ê≤πÁÖéÈ±º" },
                { "text": "start the dinner", "meaning": "ÂºÄÂßãÊôöÈ§ê" },
                { "text": "stop crying", "meaning": "ÂÅúÊ≠¢Âì≠Ê≥£" },
                { "text": "don't cry", "meaning": "Âà´Âì≠" },
                { "text": "cut the onions", "meaning": "ÂàáÊ¥ãËë±" },
                { "text": "all right", "meaning": "Â•ΩÁöÑ" }
            ],
            "Unit 8 Vocabulary 1 (A day trip)": [
                { "text": "plan a trip", "meaning": "ËÆ°Âàí‰∏Ä‰∏™ÊóÖË°å" },
                { "text": "ride", "meaning": "‰πòÈ™ëËÆæÊñΩ" },
                { "text": "map", "meaning": "Âú∞Âõæ" },
                { "text": "funfair", "meaning": "Ê∏∏‰πêÂú∫" },
                { "text": "city centre", "meaning": "ÂüéÂ∏Ç‰∏≠ÂøÉ" },
                { "text": "station", "meaning": "ËΩ¶Á´ô" },
                { "text": "road", "meaning": "Ë∑Ø" },
                { "text": "car park", "meaning": "ÂÅúËΩ¶Âú∫" },
                { "text": "ticket", "meaning": "Á•®" }
            ],
            "Unit 8 Vocabulary 2 (Places in town)": [
                { "text": "last week", "meaning": "‰∏äÂë®" },
                { "text": "did a lot of things", "meaning": "ÂÅöËÆ∏Â§ö‰∫ã" },
                { "text": "sat in the caf√©", "meaning": "ÂùêÂú®ÂíñÂï°È¶ÜÈáå" },
                { "text": "in the pretty square", "meaning": "Âú®Áæé‰∏ΩÁöÑÂπøÂú∫‰∏ä" },
                { "text": "saw a film", "meaning": "ÁúãÁîµÂΩ±" },
                { "text": "at the cinema", "meaning": "Âú®ÁîµÂΩ±Èô¢" },
                { "text": "got a book from the library", "meaning": "‰ªéÂõæ‰π¶È¶ÜÂæóÊù•‰∏ÄÊú¨‰π¶" },
                { "text": "in the hospital", "meaning": "Âú®ÂåªÈô¢" },
                { "text": "chose some clothes", "meaning": "ÈÄâÊã©‰∏Ä‰∫õË°£Êúç" },
                { "text": "at the shopping centre", "meaning": "Âú®Ë¥≠Áâ©‰∏≠ÂøÉ" },
                { "text": "bought some food", "meaning": "‰π∞‰∏Ä‰∫õÈ£üÁâ©" },
                { "text": "at the supermarket", "meaning": "Âú®Ë∂ÖÂ∏Ç" },
                { "text": "played tennis", "meaning": "ÊâìÁΩëÁêÉ" },
                { "text": "at the sports centre", "meaning": "Âú®ËøêÂä®‰∏≠ÂøÉ" },
                { "text": "went for a swim", "meaning": "ÂéªÊ∏∏Ê≥≥" },
                { "text": "at the swimming pool", "meaning": "Âú®Ê∏∏Ê≥≥Ê±†Èáå" },
                { "text": "bought some vegetables", "meaning": "‰π∞‰∏Ä‰∫õËî¨Ëèú" },
                { "text": "at the market", "meaning": "Âú®Â∏ÇÂú∫" },
                { "text": "caught a bus home", "meaning": "‰πòÂÖ¨ÂÖ±Ê±ΩËΩ¶ÂõûÂÆ∂" },
                { "text": "bus station", "meaning": "ÂÖ¨‰∫§ËΩ¶Á´ô" }
            ],
            "Unit 9 Vocabulary 1 (Adjectives for opinions)": [
                { "text": "a day trip", "meaning": "‰∏ÄÊó•‰πãÊóÖ" },
                { "text": "She's really surprised.", "meaning": "Â•πÁúüÁöÑÂæàÊÉäËÆ∂„ÄÇ" },
                { "text": "He's frightened.", "meaning": "‰ªñÂæàÂÆ≥ÊÄï„ÄÇ" },
                { "text": "It's dangerous.", "meaning": "ÂÆÉÂæàÂç±Èô©„ÄÇ" },
                { "text": "It's difficult to catch someone.", "meaning": "Ë¶ÅÊäìÂà∞‰∏Ä‰∏™‰∫∫ÂæàÈöæ„ÄÇ" },
                { "text": "It isn't easy.", "meaning": "ÂÆÉ‰∏çÁÆÄÂçï„ÄÇ" },
                { "text": "I'm hungry.", "meaning": "ÊàëÈ•ø‰∫Ü„ÄÇ" },
                { "text": "The circus is exciting.", "meaning": "Ëøô‰∏™È©¨ÊàèÂõ¢Ë°®ÊºîÂæàÂà∫ÊøÄ„ÄÇ" },
                { "text": "It isn't boring.", "meaning": "ÂÆÉ‰∏çÊó†ËÅä„ÄÇ" },
                { "text": "I'm afraid.", "meaning": "ÊàëÂæàÂÆ≥ÊÄï„ÄÇ" },
                { "text": "I'm tired.", "meaning": "ÊàëÁ¥Ø‰∫Ü„ÄÇ" },
                { "text": "Is everyone thirsty?", "meaning": "ÊØè‰∏™‰∫∫Âè£Ê∏¥Âêó?" }
            ],
            "Unit 9 Vocabulary 2 (A new adventure)": [
                { "text": "email", "meaning": "ÈÇÆ‰ª∂" },
                { "text": "DVD", "meaning": "Êï∞Â≠óÂåñËßÜÈ¢ëÂÖâÁõò" },
                { "text": "job", "meaning": "ËÅå‰∏ö" },
                { "text": "go on an adventure", "meaning": "ÂéªÂÜíÈô©" },
                { "text": "apartment", "meaning": "ÂÖ¨ÂØì" },
                { "text": "A world tour!", "meaning": "‰∏ñÁïå‰πãÊóÖ!" },
                { "text": "Call/Text our family.", "meaning": "ÁªôÊàë‰ª¨ÂÆ∂ÊâìÁîµËØù/ÂèëÁü≠‰ø°„ÄÇ" },
                { "text": "Email our friends.", "meaning": "ÁªôÊàë‰ª¨ÁöÑÊúãÂèãÂèëÈÇÆ‰ª∂„ÄÇ" },
                { "text": "get busy", "meaning": "ÂøôËµ∑Êù•" },
                { "text": "book", "meaning": "‰π¶" },
                { "text": "blanket", "meaning": "ÊØØÂ≠ê" },
                { "text": "An exciting trip!", "meaning": "Â§ö‰πàÂà∫ÊøÄÁöÑÊóÖË°å!" }
            ]
        };

        let currentDayWords = [];
        let currentIndex = 0;
        let isPaused = false;
        let isRunning = false;

        window.onload = function() {
            initDaySelector();
            loadDay();
        };

        function initDaySelector() {
            const select = document.getElementById('daySelect');
            const keys = Object.keys(wordData);
            
            keys.forEach(key => {
                const option = document.createElement('option');
                option.value = key;
                option.text = key + ` (${wordData[key].length} words)`;
                select.appendChild(option);
            });
        }

        function loadDay() {
            if (isRunning) {
                alert("ËØ∑ÂÖàÂÅúÊ≠¢ÂΩìÂâçÂê¨ÂÜôÂÜçÂàáÊç¢Â§©Êï∞ÔºÅ");
                const previousKey = Object.keys(wordData).find(key => wordData[key] === currentDayWords);
                if (previousKey) document.getElementById('daySelect').value = previousKey;
                return;
            }
            
            const selectedDay = document.getElementById('daySelect').value;
            currentDayWords = wordData[selectedDay];
            
            document.getElementById('totalCount').textContent = currentDayWords.length;
            document.getElementById('currentProgress').textContent = `0 / ${currentDayWords.length}`;
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('progressBar').textContent = '0%';
            
            resetUI();
            renderPreview();
        }

        function renderPreview() {
            const list = document.getElementById('previewList');
            list.innerHTML = '';
            currentDayWords.forEach((word, index) => {
                const item = document.createElement('div');
                item.className = 'answer-item';
                item.innerHTML = `
                    <div class="answer-left">
                        <span class="answer-number">${index + 1}.</span>
                        <span class="answer-text">${word.text}</span>
                    </div>
                    <span class="answer-meaning">${word.meaning}</span>
                `;
                list.appendChild(item);
            });
        }

        function resetUI() {
            document.getElementById('answers').style.display = 'none';
            document.getElementById('starting').style.display = 'flex';
            document.getElementById('starting').textContent = 'ÂáÜÂ§áÂ∞±Áª™ÔºåÁÇπÂáªÂºÄÂßã';
            document.getElementById('currentWord').style.display = 'none';
            document.getElementById('startBtn').style.display = 'inline-block';
            document.getElementById('pauseBtn').style.display = 'none';
            document.getElementById('resumeBtn').style.display = 'none';
            document.getElementById('restartBtn').style.display = 'none';
            document.getElementById('daySelect').disabled = false;
            document.getElementById('repeatCount').disabled = false;
            document.getElementById('waitTime').disabled = false;
        }

        function unlockAudio() {
            const u = new SpeechSynthesisUtterance("");
            window.speechSynthesis.speak(u);
        }

        async function startDictation() {
            if (!('speechSynthesis' in window)) {
                alert("ÊÇ®ÁöÑÊµèËßàÂô®‰∏çÊîØÊåÅËØ≠Èü≥ÊúóËØªÂäüËÉΩÔºåËØ∑‰ΩøÁî® Chrome/Edge/Safari Á≠âÁé∞‰ª£ÊµèËßàÂô®„ÄÇ");
                return;
            }

            unlockAudio();

            isRunning = true;
            currentIndex = 0;
            document.getElementById('daySelect').disabled = true;
            document.getElementById('repeatCount').disabled = true;
            document.getElementById('waitTime').disabled = true;
            document.getElementById('startBtn').style.display = 'none';
            document.getElementById('pauseBtn').style.display = 'inline-block';
            document.getElementById('pauseBtn').disabled = false;
            document.getElementById('restartBtn').style.display = 'none';
            document.getElementById('answers').style.display = 'none';

            const startingEl = document.getElementById('starting');
            startingEl.style.display = 'flex';
            
            for (let i = 3; i > 0; i--) {
                startingEl.textContent = `Âê¨ÂÜôÂ∞ÜÂú® ${i} ÁßíÂêéÂºÄÂßã...`;
                await sleep(1000);
            }
            startingEl.style.display = 'none';
            document.getElementById('currentWord').style.display = 'flex';

            for (let i = 0; i < currentDayWords.length; i++) {
                currentIndex = i;
                updateProgress();
                await dictateItem(i);
                
                while (isPaused) {
                    await sleep(100);
                }
            }

            finishDictation();
        }

        async function dictateItem(index) {
            const word = currentDayWords[index];
            const displayEl = document.getElementById('currentWord');
            
            const repeatCount = parseInt(document.getElementById('repeatCount').value);
            const waitTime = parseInt(document.getElementById('waitTime').value);

            displayEl.textContent = `ÂçïËØç ${index + 1}`;
            displayEl.style.color = "#2d3748";

            for (let r = 0; r < repeatCount; r++) {
                if (isPaused) return;
                
                await speak(word.text);
                
                if (r < repeatCount - 1) {
                    await sleep(1500);
                }
            }

            displayEl.style.color = "#718096";
            for (let t = waitTime; t > 0; t--) {
                if (isPaused) return;
                displayEl.textContent = `Á≠âÂæÖ ${t} Áßí...`;
                await sleep(1000);
            }
        }

        function speak(text) {
            return new Promise((resolve) => {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 0.8; 
                
                utterance.onend = () => {
                    resolve();
                };
                
                utterance.onerror = (e) => {
                    console.error("Speech error:", e);
                    resolve();
                };

                window.speechSynthesis.speak(utterance);
            });
        }

        function updateProgress() {
            const total = currentDayWords.length;
            const current = currentIndex + 1;
            const percentage = Math.round((current / total) * 100);
            
            document.getElementById('currentProgress').textContent = `${current} / ${total}`;
            const bar = document.getElementById('progressBar');
            bar.style.width = `${percentage}%`;
            bar.textContent = `${percentage}%`;
        }

        function pauseDictation() {
            isPaused = true;
            window.speechSynthesis.cancel();
            document.getElementById('pauseBtn').style.display = 'none';
            document.getElementById('resumeBtn').style.display = 'inline-block';
            document.getElementById('currentWord').textContent = "Â∑≤ÊöÇÂÅú";
        }

        function resumeDictation() {
            isPaused = false;
            document.getElementById('resumeBtn').style.display = 'none';
            document.getElementById('pauseBtn').style.display = 'inline-block';
        }

        function resetDictation() {
            window.speechSynthesis.cancel();
            isRunning = false;
            isPaused = false;
            resetUI();
            loadDay();
        }

        function finishDictation() {
            isRunning = false;
            document.getElementById('currentWord').textContent = "Âê¨ÂÜôÂÆåÊàêÔºÅ";
            document.getElementById('pauseBtn').style.display = 'none';
            document.getElementById('restartBtn').style.display = 'inline-block';
            document.getElementById('daySelect').disabled = false;
            document.getElementById('repeatCount').disabled = false;
            document.getElementById('waitTime').disabled = false;
            
            showAnswers();
        }

        function showAnswers() {
            const list = document.getElementById('answerList');
            list.innerHTML = '';
            
            currentDayWords.forEach((word, index) => {
                const item = document.createElement('div');
                item.className = 'answer-item';
                item.innerHTML = `
                    <div class="answer-left">
                        <span class="answer-number">${index + 1}.</span>
                        <span class="answer-text">${word.text}</span>
                    </div>
                    <span class="answer-meaning">${word.meaning}</span>
                `;
                list.appendChild(item);
            });

            document.getElementById('answers').style.display = 'block';
            document.getElementById('answers').scrollIntoView({ behavior: 'smooth' });
        }

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
    </script>
</body>
</html>
